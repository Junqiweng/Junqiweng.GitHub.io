# 固定床反应器计算平台 维护与开发指南

---

## 一、项目结构概览

```
根目录/
├── index.html                 # 主导航页面
├── global-styles.css          # 全局样式
├── README.md                  # 项目说明文档
├── 模块文件夹（示例）/
│   ├── *_index.html           # 模块主页面
│   ├── *_script.js            # 模块交互与计算逻辑
│   ├── *_Theory.md            # 理论背景文档
│   └── *.py                   # 复杂计算的Python脚本（部分模块）
└── .github/workflows/static.yml # CI配置
```

- **主页面**：`index.html`，导航至各计算模块
- **模块目录**：如`Pressure-drop/`，每个模块独立封装
- **理论文档**：每模块配有.md文件，便于理解计算依据
- **样式统一**：`global-styles.css`，保证界面一致性
- **自动化**：GitHub Actions实现静态资源部署

---

## 二、模块功能解析

### 1. 主导航页 `index.html`

- 响应式设计，兼容桌面与移动端
- 分类展示固定床、空管、涓流床等模块
- 卡片式入口，配图标、简介
- 结构清晰，便于扩展新模块

### 2. 典型模块（以压降计算为例）

- **输入参数区**：床层、流体、颗粒、设备尺寸，带提示
- **模型选择**：多种经典方程，支持多选
- **计算逻辑**：
  - 读取参数，校验合法性
  - 逐一调用模型函数，计算压降
  - 统计最大、最小、平均差异
- **结果展示**：
  - 表格列出各模型结果，突出极值
  - 柱状图直观对比
  - 详细理论、参数、适用范围，MathJax渲染
- **交互体验**：
  - 标签切换
  - 加载动画
  - 模态框查看公式
  - 输入校验、重置、清空

### 3. Python脚本

- 用于复杂数值计算或验证
- 可通过后端集成或手动运行

---

## 三、代码规范

### 1. HTML

- 语义化标签，结构清晰
- 使用`<section>`、`<header>`、`<footer>`分区
- 响应式布局，Flexbox/Grid
- 统一字体、配色，符合视觉规范

### 2. CSS

- 变量管理色彩
- 全局样式集中于`global-styles.css`
- 模块内可嵌入局部样式
- 响应式断点适配

### 3. JavaScript

- 函数模块化，职责单一
- 变量命名清晰，使用英文
- 事件绑定集中管理
- 计算逻辑封装，便于测试
- 结果渲染与计算分离
- 使用`async/await`处理异步
- 注重性能，避免阻塞
- 兼容ES6+

### 4. Markdown理论文档

- 结构清晰，分章节
- 使用LaTeX公式
- 图文并茂，便于理解

---

## 四、常见问题与解决方案

| 问题描述 | 可能原因 | 解决方案 |
|-----------|----------|----------|
| 页面公式不显示或乱码 | MathJax未正确加载 | 检查CDN链接，刷新缓存 |
| 计算结果异常或为NaN | 输入参数非法 | 检查输入范围，完善校验 |
| 结果差异过大 | 模型适用范围不同 | 查看理论说明，选择合适模型 |
| 页面样式错乱 | CSS未加载或冲突 | 检查路径，避免样式覆盖 |
| 新增模块无响应 | 脚本未正确引入 | 确认`*_script.js`路径正确 |
| Python脚本无法运行 | 环境未配置 | 安装Python3，配置依赖库 |

---

## 五、如何高效添加与集成新子页面

### 1. 复制模板

- 选择一个功能类似的模块目录（如`Pressure-drop/`）
- 复制整个目录，重命名为新模块名

### 2. 修改文件名

- 将内部文件统一重命名
  - `NewModule_index.html`
  - `NewModule_script.js`
  - `NewModule_Theory.md`
  - 相关Python脚本（可选）

### 3. 编辑HTML页面

- 替换标题、描述
- 设计新的输入参数区
- 配置模型选择区域
- 保持标签切换、模态框结构

### 4. 编写计算逻辑

- 在`*_script.js`中
- 定义新的计算函数
- 按需调整已有函数
- 确保结果生成函数兼容新模型

### 5. 更新理论文档

- 撰写`*_Theory.md`
- 包含数学模型、参数定义、适用范围、参考文献

### 6. 集成到主导航

- 在根目录`index.html`中
- 添加新模块的卡片入口
- 配置图标、简介、链接

### 7. 测试

- 输入边界值，验证计算正确性
- 检查公式渲染
- 确认交互无误

### 8. 版本控制

- 使用Git提交更改
- 编写清晰的提交信息
- 推送至远程仓库

### 9. 注意事项

- 保持命名规范，避免冲突
- 复用全局样式，减少冗余
- 理论文档详尽，方便用户理解
- 多模型对比，提升工具价值
- 充分测试，确保稳定

---

## 六、总结

本平台采用**模块化、组件化、响应式**设计，便于持续扩展。各模块结构统一，计算逻辑清晰，理论支撑详尽。遵循本指南，可高效维护现有功能，快速集成新模型，持续提升平台价值。

---

## 七、附录

- **许可证**：MIT
- **作者**：Junqi
- **联系方式**：<junqi@example.com>
- **版本**：1.1.0
- **更新日期**：2025-04-09
